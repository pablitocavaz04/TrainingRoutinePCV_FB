<div class="relative w-full h-screen flex items-center justify-center bg-gray-200">
  <div class="relative w-full max-w-6xl h-[600px] overflow-hidden rounded-lg shadow-lg bg-white">

    <!-- Indicador de carga -->
    <div *ngIf="isLoading" class="absolute inset-0 flex items-center justify-center bg-white bg-opacity-75">
      <div class="animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500"></div>
    </div>

    <!-- Contenedor del carrusel (inicialmente oculto hasta que todo está listo) -->
    <div [ngClass]="{'hidden': isLoading, 'block': !isLoading}"
         class="flex transition-transform duration-500 ease-in-out" 
         [ngStyle]="{'transform': 'translateX(' + (-currentIndex * 100) + '%)'}">
      
      <div *ngFor="let slide of slides" class="w-full flex-shrink-0 relative"
           (mouseenter)="showOverlay(true)" 
           (mouseleave)="showOverlay(false)" 
           (click)="toggleTextVisibility()">
        <img [src]="slide.url" alt="Imagen de {{ slide.name }}" class="w-full h-[600px] object-cover">
        <div class="absolute inset-0 bg-black transition-all duration-300 flex items-center justify-center"
             [ngClass]="{'bg-opacity-50': isOverlayVisible, 'bg-opacity-0': !isOverlayVisible}">
          <p class="text-white text-2xl font-semibold transition-opacity duration-300 text-center"
             [ngClass]="{'opacity-100': isOverlayVisible, 'opacity-0': !isOverlayVisible}">
            {{ getOverlayText(slide.name) }}
          </p>
        </div>
      </div>
    </div>

    <!-- Botones de Navegación (ocultos hasta que el carrusel esté listo) -->
    <button *ngIf="!isLoading" (click)="prevSlide()" class="absolute top-1/2 left-4 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-3 rounded-full hover:bg-opacity-75">
      ❮
    </button>
    <button *ngIf="!isLoading" (click)="nextSlide()" class="absolute top-1/2 right-4 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-3 rounded-full hover:bg-opacity-75">
      ❯
    </button>
  </div>
</div>
