<ion-header class="modal-header">
  <ion-toolbar>
    <ion-title>{{ modoEdicion ? 'Editar Entrenamiento' : 'Crear Entrenamiento' }}</ion-title>
    <ion-buttons slot="end">
      <ion-button class="close-btn" (click)="closeModal()">
        <ion-icon name="close-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="modal-content">
  <form [formGroup]="entrenamientoForm" class="modal-form">
    <!-- Nombre del Entrenamiento -->
    <ion-item class="custom-item">
      <ion-label position="floating">Nombre del Entrenamiento</ion-label>
      <ion-input formControlName="nombre"></ion-input>
    </ion-item>

    <!-- Descripción -->
    <ion-item class="custom-item">
      <ion-label position="floating">Descripción</ion-label>
      <ion-textarea formControlName="descripcion"></ion-textarea>
    </ion-item>

    <!-- Fecha de Caducidad -->
    <ion-item class="custom-item">
      <ion-label>Fecha de Caducidad</ion-label>
      <input type="date" formControlName="fechaCaducidad" class="custom-input"/>
    </ion-item>

    <!-- Capacidad Máxima -->
    <ion-item class="custom-item">
      <ion-label position="floating">Capacidad Máxima</ion-label>
      <ion-input type="number" formControlName="capacidadMaxima"></ion-input>
    </ion-item>

    <!-- Imagen (Drag & Drop mejorado) -->
    <div class="section-title">Imagen del Entrenamiento</div>
    <div class="image-container">
      <div class="image-upload" (dragover)="onDragOver($event)" (drop)="onFileDropped($event)">
        <p *ngIf="!imagenVistaPrevia">Arrastra una imagen aquí o haz clic para seleccionar</p>
        <input type="file" class="hidden" (change)="onFileSelected($event)"/>
        <img *ngIf="imagenVistaPrevia" [src]="imagenVistaPrevia" class="session-img"/>
      </div>
    </div>
  </form>
</ion-content>

<!-- Botón Fijo -->
<div class="fixed-button">
  <button (click)="guardarEntrenamiento()" class="save-btn">
    {{ modoEdicion ? 'Actualizar Entrenamiento' : 'Crear Entrenamiento' }}
  </button>
</div>  
